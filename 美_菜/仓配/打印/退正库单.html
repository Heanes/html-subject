<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <!-- meta -->
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <meta charset="UTF-8"/>
    <!-- responsive -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,minimal-ui"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="renderer" content="webkit"/>
    <meta name="author" content="Heanes heanes.com email(heanes@163.com)"/>
    <meta name="keywords" content="软件,商务,HTML,tutorials,source codes"/>
    <meta name="description" content="描述，不超过150个字符"/>
    <!-- css -->
    <link rel="stylesheet" type="text/css" href="//ui.heanes.com/dist/css/heanesUI.css"/>
    <link rel="stylesheet" type="text/css" href="css/css.css"/>
<title>退正库单</title>
</head>
<body>
<!-- S 左侧功能区 S -->
<div class="left-bar clearfix">
    <div class="left-bar-content"></div>
</div>
<!-- E 左侧功能区 E -->
<div class="wrap">
    <!-- S header 头部 S -->
    <div class="header"></div>
    <!-- E header 头部 E-->
    <!-- S main 主要内容 S -->
    <div class="main">
        <!-- 顶部全宽度内容区域 -->
        <div class="full-width-block">
            <div class="main-top-block"></div>
        </div>
        <div class="main-width-block main-wrap">
            <!-- 顶部内容 -->
            <div class="main-top-content"></div>
            <!-- 主体内容 -->
            <div class="main-content clearfix">
                <!-- 左侧区域 -->
                <div class="left-block left-wrap fl">
                    <div class="left-content"></div>
                </div>
                <!-- 中心区域 -->
                <div class="center-block center-wrap fl">
                    <div class="center-content">
                        <div class="print-list-handle">
                            <div class="to-print no-print">
                                <button class="btn btn-success print-all">打印全部</button>
                            </div>
                        </div>
                        <div class="print-list-wrap">
                        </div>
                    </div>
                </div>
                <!-- 右侧区域 -->
                <div class="right-block right-wrap fl">
                    <div class="right-content"></div>
                </div>
            </div>
            <!-- 底部区域 -->
            <div class="main-bottom-content"></div>
        </div>
        <div class="full-width-block">
            <!-- 底部全宽度内容区域 -->
            <div class="main-bottom-block"></div>
        </div>
    </div>
    <!-- E main 主要内容 E -->
    <!-- S footer 脚部 S -->
    <div class="footer"></div>
    <!-- E footer 脚部 E -->
</div>
<!-- S 右侧功能区 S -->
<div class="right-bar clearfix">
    <div class="right-bar-content"></div>
</div>
<div class="print-delivered-paper-template" style="display:none">
    <div class="print-group generate">
        <div class="print-group-handle no-print">
            <div class="print-handle">
                <button class="btn btn-success print-one">打印</button>
            </div>
        </div>
        <div class="print-group-content">
            <div class="receipts-delivered-paper generate">
                <div class="print-paper receipts-delivered-print return-task-print bar-code">
                    <div class="print-paper-content">
                        <div class="print-paper-header">
                            <div class="receipts-title">
                                <div class="cell">
                                    <h1 class="self-company-name">美_菜 MEI_CAI.CN</h1>
                                </div>
                                <div class="cell">
                                    <h1 class="print-paper-name">退正库单</h1>
                                </div>
                                <div class="cell">
                                </div>
                            </div>
                            <div class="receipts-delivery-info">
                                <div class="cell">
                                    <dl class="data-dl ship-warehouse-info">
                                        <dd><span class="warehouse-name-from">出发站点</span>——<span class="warehouse-name-to">目的站点</span></dd>
                                    </dl>
                                </div>
                                <div class="cell">
                                    <div class="barcode-wrap">
                                        <svg class="barcode-show"></svg>
                                        <div class="barcode-text">
                                            <span class="label-text">退正库单：</span><span class="text-task-no">TK123456</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="cell">
                                    <dl class="data-dl">
                                        <dt>出库日期：</dt>
                                        <dd><span class="out-warehouse-date">2017-10-31</span></dd>
                                    </dl>
                                    <dl class="data-dl">
                                        <dt>打印时间：</dt>
                                        <dd><span class="print-time">2017-10-31 11:06:49</span></dd>
                                        <dd class="print-paper-pager"></dd>
                                    </dl>
                                </div>
                            </div>
                        </div>
                        <div class="print-paper-body dispatch-data-table">
                            <table class="table table-bordered table-hover table-condensed">
                                <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>容器号</th>
                                    <th>SKU</th>
                                    <th>SSU</th>
                                    <th>商品</th>
                                    <th>出库量</th>
                                    <th>备注</th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                        <div class="print-paper-footer">
                            <div class="dispatch-info">
                                <table class="table table-bordered separate-average-3">
                                    <tbody>
                                    <tr>
                                        <td>出库人：<span class="ship-user-name">张三</span></td>
                                        <td>送货人</td>
                                        <td>收货人</td>
                                    </tr>
                                    <tr>
                                        <td>时间：<span class="out-warehouse-time">2017-10-31 11:07:02</span></td>
                                        <td>时间：</td>
                                        <td>时间：</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="print-end-page"></div>
        </div>
    </div>
</div>
<cite>
    <!-- S js S -->
    <script type="text/javascript" src="/public/static/libs/js/jquery/2.1.4/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="/public/static/libs/js/printArea/2.4.1/js/jquery.printarea.js"></script>
    <script type="text/javascript" src="/public/static/libs/js/qrcode/jquery-qrcode/0.14.0/jquery-qrcode.min.js"></script>
    <script type="text/javascript" src="/public/static/libs/js/jsBarcode/3.8.0/JsBarcode.all.js"></script>
    <script type="text/javascript" src="js/printTeturnTask.js"></script>
    <script type="text/javascript">
        $(function () {

            console.log('订单号：1234'.match(/\d+/)[0]);

            /**
             * @doc 打印
             * @author Heanes
             * @time 2017-10-27 09:59:12 周五
             */
            var $receiptsDeliveredPaper = $('.print-list-wrap');
            /*$.each($receiptsDeliveredPaper, function (i, item) {
                var $printHandle = $(item).find('.print-handle'), $printPaper = $(item).find('.print-paper');
                $printHandle.on('click', function () {
                    $printPaper.printArea({
                    });
                });
            });*/

            /**
             * @doc 打印全部
             * @author Heanes
             * @time 2017-11-03 12:09:44 周五
             **/
            $('.print-all').on('click', function () {
                $receiptsDeliveredPaper.find('.print-paper-content').printArea({
                });
            });

            /*var qrCodeText = 'TK00117101212345';
            var $qrCodeContainer = $('.qrcode-show');
            renderQrCode($qrCodeContainer, qrCodeText);*/

            var $barCodeWrap = $('.barcode-wrap');
            renderBarCode($barCodeWrap.find('.barcode-show'), 'test123456');
            function renderBarCode($barCodeContainer, text, barcodeConfigOption) {
                var barcodeConfigDefaultOption = {
                    format: 'code128',
                    width: 1.2,                 //设置条之间的宽度
                    height: 40,                 //高度
                    displayValue: false,         //是否在条形码下方显示文字
                    fontOptions: "bold",        //使文字加粗体或变斜体
                    font: "sans-serif",         //设置文本的字体
                    text: '',                   //覆盖显示的文本
                    textAlign: "center",        //设置文本的水平对齐方式
                    textPosition: "bottom",     //设置文本的垂直对齐方式
                    textMargin: 0,              //设置条形码和文本之间的间距
                    fontSize: 24,               //设置文本的大小
                    background: "#fff",         //设置条形码的背景
                    lineColor: "#000",          //设置条和文本的颜色。
                    margin: 0                   //设置条形码周围的空白边距
                };
                barcodeConfigOption = barcodeConfigOption || barcodeConfigDefaultOption;
                $barCodeContainer.empty().JsBarcode(text, barcodeConfigOption);
            }

        });
    </script>
    <!-- E js E -->
</cite>
</body>
</html>